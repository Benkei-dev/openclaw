# ──────────────────────────────────────────────
#  MT4 ZMQ Bridge – Umgebungsvariablen
#  Kopieren nach .env und anpassen
# ──────────────────────────────────────────────

# Tailscale-IP des Windows Trading-PCs mit MT4
ZMQ_MT4_HOST=100.121.91.27

# ZMQ-Ports (DWX_ZeroMQ_Server_v2.0.1_RC8 Standardkonfiguration)
# MT4 hat PULL auf 32768 → Bridge PUSH sendet Befehle hier hin
ZMQ_MT4_PULL_PORT=32768
# MT4 hat PUSH auf 32769 → Bridge PULL empfängt Signale von hier
ZMQ_MT4_PUSH_PORT=32769
# MT4 sendet Marktdaten → Bridge abonniert (SUB)
ZMQ_MT4_PUB_PORT=32770

# n8n Webhook-Basis-URL (Tailscale-IP des VPS)
N8N_WEBHOOK_BASE_URL=http://100.127.134.70:5678/webhook

# Webhook-Pfade in n8n (ohne führenden Slash)
N8N_SIGNAL_WEBHOOK_PATH=mt4-signal
N8N_MARKET_WEBHOOK_PATH=mt4-market

# Automatisch an n8n pushen, sobald eine Nachricht ankommt (true/false)
# false = n8n muss aktiv pollen via GET /mt4/signals
PUSH_TO_N8N=true

# Marktdaten separat zu n8n pushen? (true/false)
# Default: false (verhindert Google Sheets Rate Limiting in WF1)
# WF7 holt Marktdaten on-demand via GET /mt4/market
PUSH_MARKET_TO_N8N=false

# HTTP-Port der Bridge auf dem VPS
BRIDGE_HTTP_PORT=8765

# API-Token für die Bridge-Endpoints (leer = keine Auth)
# In n8n als "Authorization: Bearer <token>" Header setzen
BRIDGE_API_TOKEN=change-me-to-a-long-random-token

# Symbole die beim Start automatisch via TRACK_PRICES abonniert werden (Semikolon-getrennt)
# Broker-spezifische Namen beachten: Capital.com → GOLD (nicht XAUUSD), BTCUSD (nicht BTCEUR)
TRACK_SYMBOLS=EURUSD;GOLD;BTCUSD;US100

# Puffergröße (max. Nachrichten im RAM, älteste werden verworfen)
MAX_BUFFER_SIZE=500

# ZMQ-Connect-Timeout in Millisekunden
ZMQ_CONNECT_TIMEOUT_MS=5000

# Log-Level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO
